<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <title>Industry Dashboard - UPM Industrial Training</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap + Icons + Font (match admin) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Same css path as admin -->
  <link th:href="@{/app.css}" rel="stylesheet">

  <style>
    body{ background:#f5f7fa; }

    /* same grids concept as admin */
    .stat-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:18px; }
    @media (max-width:1199.98px){ .stat-grid{ grid-template-columns:repeat(2,1fr); } }
    @media (max-width:575.98px){ .stat-grid{ grid-template-columns:1fr; } }

    .feature-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:20px; }
    @media (max-width:1199.98px){ .feature-grid{ grid-template-columns:repeat(2,1fr); } }
    @media (max-width:767.98px){ .feature-grid{ grid-template-columns:1fr; } }

    /* optional: center any single full-width feature later */
    .feature-center{
      grid-column: 1 / -1;
      display:flex;
      justify-content:center;
    }
    .feature-center > .feature-card{ max-width:520px; width:100%; }
  </style>
</head>

<body>

<!-- Navbar (reuse admin family appbar styles from app.css) -->
<nav class="navbar navbar-expand-lg appbar">
  <div class="container container-narrow">
    <a class="navbar-brand d-flex align-items-center gap-2" th:href="@{/industry/dashboard}">
      <img th:src="@{/Picture1.png}" alt="UPM" style="height:28px">
      <span>Industry Supervisor ‚Ä¢ UPM Industrial Training</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navIndustry">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navIndustry" class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a th:href="@{/industry/dashboard}" class="nav-link fw-semibold">Dashboard</a></li>
        <li class="nav-item"><a th:href="@{/industry/logbooks}" class="nav-link">Logbooks</a></li>
        <li class="nav-item"><a th:href="@{/industry/placements}" class="nav-link">Placements</a></li>
        <li class="nav-item"><a th:href="@{/industry/evaluations}" class="nav-link">Evaluations</a></li>
        <li class="nav-item"><a th:href="@{/industry/opportunities}" class="nav-link">Opportunities</a></li>
        <li class="nav-item"><a th:href="@{/industry/companies}" class="nav-link">My Companies</a></li>
        <li class="nav-item"><a th:href="@{/logout}" class="nav-link">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<main class="container container-narrow py-4">

  <!-- Header (same style as admin) -->
  <div class="d-flex flex-wrap align-items-center justify-content-between gap-2 mb-3">
    <div>
      <span class="pill"><i class="bi bi-building"></i> Industry Supervisor</span>
      <h1 class="h4 page-title mb-0 mt-2">Welcome, Industry Supervisor üè¢</h1>
      <div class="muted mt-1">
        Review logbooks, verify placements, manage opportunities, and submit evaluations.
      </div>
    </div>
  </div>

  <!-- KPIs (use admin kpi-card/kpi-label/kpi-value) -->
  <section class="stat-grid mb-3">
    <div class="kpi-card">
      <div class="kpi-label">Logbooks Pending Review</div>
      <div class="kpi-value" th:text="${pending} ?: 0">0</div>
    </div>

    <div class="kpi-card">
      <div class="kpi-label">Logbooks Approved</div>
      <div class="kpi-value" th:text="${approved} ?: 0">0</div>
    </div>

    <div class="kpi-card">
      <div class="kpi-label">Logbooks Rejected</div>
      <div class="kpi-value" th:text="${rejected} ?: 0">0</div>
    </div>

    <div class="kpi-card">
      <div class="kpi-label">Role</div>
      <div class="kpi-value">Industry Sup.</div>
    </div>
  </section>

  <!-- Review queues (use admin feature-card) -->
  <section class="stat-grid mb-4">

    <div class="feature-card p-3">
      <div class="d-flex align-items-center justify-content-between gap-3">
        <div>
          <div class="text-muted fw-semibold">Logbooks Awaiting Your Review</div>
          <div class="fs-4 fw-bold" th:text="${pending} ?: 0">0</div>
          <small class="muted">Filter by student or status in the logbook list.</small>
        </div>
        <a class="btn btn-outline-primary btn-rounded"
           th:href="@{/industry/logbooks(status='PENDING')}">
          Review
        </a>
      </div>
    </div>

    <div class="feature-card p-3">
      <div class="d-flex align-items-center justify-content-between gap-3">
        <div>
          <div class="text-muted fw-semibold">Placements to Verify</div>
          <div class="fs-4 fw-bold">‚Äì</div>
          <small class="muted">
            Check department, job scope and reporting date before faculty finalises.
          </small>
        </div>
        <a class="btn btn-outline-primary btn-rounded" th:href="@{/industry/placements}">
          Review
        </a>
      </div>
    </div>

    <div class="feature-card p-3">
      <div class="d-flex align-items-center justify-content-between gap-3">
        <div>
          <div class="text-muted fw-semibold">End-of-Internship Evaluations</div>
          <div class="fs-4 fw-bold">‚Äì</div>
          <small class="muted">
            Complete the 40% industry evaluation for your students.
          </small>
        </div>
        <a class="btn btn-outline-primary btn-rounded" th:href="@{/industry/evaluations}">
          Review
        </a>
      </div>
    </div>

    <!-- optional spacer so grid looks balanced on desktop -->
    <div class="d-none d-lg-block"></div>
  </section>

  <!-- Feature cards (use admin feature-card style, no bootstrap .card) -->
  <section class="feature-grid">

    <div class="feature-card p-4 text-center">
      <h5><i class="bi bi-journal-check me-1"></i> Review Logbooks</h5>
      <p class="lead mb-3">
        Read weekly entries, comment, and approve or reject logbooks.
      </p>
      <a th:href="@{/industry/logbooks}" class="btn btn-primary btn-rounded">
        Go to Logbooks
      </a>
    </div>

    <div class="feature-card p-4 text-center">
      <h5><i class="bi bi-building-check me-1"></i> Verify Placements</h5>
      <p class="lead mb-3">
        Confirm department, job scope, allowance and accommodation details.
      </p>
      <a th:href="@{/industry/placements}" class="btn btn-primary btn-rounded">
        View Placements
      </a>
    </div>

    <div class="feature-card p-4 text-center">
      <h5><i class="bi bi-clipboard2-check me-1"></i> Supervisor Evaluations (40%)</h5>
      <p class="lead mb-3">
        Submit the industry evaluation rubric contributing 40% to final grade.
      </p>
      <a th:href="@{/industry/evaluations}" class="btn btn-primary btn-rounded">
        Open Evaluations
      </a>
    </div>

    <div class="feature-card p-4 text-center">
      <h5><i class="bi bi-megaphone me-1"></i> Opportunity Posts</h5>
      <p class="lead mb-3">
        Create and manage internship openings visible to eligible students.
      </p>
      <a th:href="@{/industry/opportunities}" class="btn btn-primary btn-rounded">
        Manage Opportunities
      </a>
    </div>

    <div class="feature-card p-4 text-center">
      <h5><i class="bi bi-buildings me-1"></i> Manage Company Profiles</h5>
      <p class="lead mb-3">
        Update organisation details, contact person, and internship defaults.
      </p>
      <a th:href="@{/industry/companies}" class="btn btn-primary btn-rounded">
        My Companies
      </a>
    </div>

    <div class="feature-card p-4 text-center">
      <h5><i class="bi bi-info-circle me-1"></i> Guidelines</h5>
      <p class="lead mb-3">
        Refer to handbook and rubrics provided by the faculty.
      </p>
      <button type="button" class="btn btn-outline-secondary btn-rounded" disabled>
        Coming Soon
      </button>
    </div>

  </section>

</main>

<footer class="text-center text-muted py-4 small">
  ¬© <span th:text="${#dates.format(#dates.createNow(), 'yyyy')}">2025</span>,
  Faculty of Food Science and Technology, UPM
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
