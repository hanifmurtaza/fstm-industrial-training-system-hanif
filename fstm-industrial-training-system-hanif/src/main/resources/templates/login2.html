<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{margin:0;height:100vh;font-family:'Poppins',sans-serif;
      background:url('/images/FSTM_2.JPG') no-repeat center center/cover;}
    .login-card{position:absolute;top:50%;right:5%;transform:translateY(-50%);
      width:380px;background:rgba(255,255,255,.15);backdrop-filter:blur(14px);
      -webkit-backdrop-filter:blur(14px);border-radius:18px;padding:40px 30px 30px;
      box-shadow:0 8px 32px rgba(0,0,0,.3)}
    .btn-check:checked + .btn{background-color:#0d6efd;color:#fff}
    .role-toggle{background-color:#fff}
    .page-logo{position:absolute;top:20px;left:20px;width:200px}
    .faculty-name{position:absolute;bottom:40px;left:25px;font-size:50px;color:#fff;
      background-color:rgba(0,0,0,.3);padding:4px 10px;border-radius:6px}
  </style>
</head>
<body>

<img th:src="@{/Picture1.png}" alt="UPM Logo" class="page-logo"/>
<div class="faculty-name">Faculty of Food Science<br> and Technology</div>

<div class="login-card text-center">
  <h2 class="mb-4">Login</h2>

  <!-- Error message if credentials/role mismatch -->
  <div th:if="${param.error}" class="alert alert-danger py-2">
    Invalid username, password, or role.
  </div>

  <form th:action="@{/login}" method="post" autocomplete="off">
    <div class="mb-3 text-start">
      <label for="username" class="form-label">UPM ID</label>
      <input type="text" name="username" id="username" class="form-control"
             placeholder="Enter UPM ID" required>
    </div>

    <div class="mb-3 text-start">
      <label for="password" class="form-label">Password</label>
      <input type="password" name="password" id="password" class="form-control"
             placeholder="Enter password" required>
    </div>

    <!-- Roles -->
    <div class="text-center mb-3">
      <div class="role-toggle rounded-pill border border-2 border-secondary d-inline-flex p-1">
        <input type="radio" class="btn-check" name="role" id="student" value="student" checked>
        <label class="btn role-btn rounded-pill px-3" for="student">Student</label>

        <input type="radio" class="btn-check" name="role" id="teacher" value="teacher">
        <label class="btn role-btn rounded-pill px-3" for="teacher">Teacher</label>

        <input type="radio" class="btn-check" name="role" id="admin" value="admin">
        <label class="btn role-btn rounded-pill px-3" for="admin">Admin</label>

        <!-- NEW: Industry supervisor -->
        <input type="radio" class="btn-check" name="role" id="industry" value="industry">
        <label class="btn role-btn rounded-pill px-3" for="industry">Industry</label>
      </div>
    </div>

    <button type="submit" class="btn btn-primary w-100">Login</button>
  </form>
</div>

</body>
</html>
